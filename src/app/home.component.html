<div *ngIf="showUser">

    <form #form="ngForm">

        <h3>Products in the database</h3>

        <div class="container">
            <div class="row rowheader">
                <div class="col">Name</div>
                <div class="col">Fat</div>
                <div class="col">Carbs</div>
                <div class="col">Proteins</div>
                <div class="col"></div>
                <div class="col"></div>
                <div class="col"></div>
            </div>
            <div class="row" *ngFor="let item of items | async">
                <div class="col ml-auto">{{item.name}}</div>
                <div class="col ml-auto">{{item.fat}}</div>
                <div class="col ml-auto">{{item.carbs}}</div>
                <div class="col ml-auto">{{item.proteins}}</div>
                <div class="col ml-auto">
                    <button (click)="deleteProduct(item.key)" class="btn btn-success" type="submit">Delete Product</button>
                </div>
                <div class="col ml-auto">
                    <button (click)="editProduct(item)" class="btn btn-success" type="submit">Edit Product</button>
                </div>
                <div class="col ml-auto">
                    <button (click)="saveProduct(item)" class="btn btn-success" type="submit" [disabled]="form.invalid">Save Product</button>
                </div>
            </div>
        </div>

        <div>
            <label for="name">Name:</label>
            <input #name="ngModel" required type="text" name="name" [(ngModel)]="product.name" id="name">
        </div>
        <div *ngIf="name.invalid && name.dirty">First name is required</div>
        <div>
            <label for="fat">Fat:</label>
            <input #fat="ngModel" required type="text" name="fat" pattern="^[1-9]\d{0,2}(\.\d{3})*(.\d+)?$" [(ngModel)]="product.fat"
                id="fat">
        </div>
        <div *ngIf="fat.invalid && fat.dirty">Fat amount is required and has to be numeric value</div>
        <div>
            <label for="carbs">Carbs:</label>
            <input #carbs="ngModel" required type="text" pattern="^[1-9]\d{0,2}(\.\d{3})*(.\d+)?$" name="carbs" [(ngModel)]="product.carbs"
                id="carbs">
        </div>
        <div *ngIf="carbs.invalid && carbs.dirty">Carbs amount is required and has to be numeric value</div>
        <div>
            <label for="proteins">Proteins:</label>
            <input #proteins="ngModel" required type="text" name="proteins" pattern="^[1-9]\d{0,2}(\.\d{3})*(.\d+)?$" [(ngModel)]="product.proteins"
                id="proteins">
        </div>
        <div *ngIf="proteins.invalid && proteins.dirty">Proteins amount is required and has to be numeric value</div>

        <button (click)="addProduct()" type="submit" [disabled]="form.invalid">Add</button>
    </form>
</div>